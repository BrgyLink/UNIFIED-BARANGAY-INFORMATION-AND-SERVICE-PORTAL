@page
@model BrgyLink.Pages.ManageResident.DetailsModel

@{
    ViewData["Title"] = "Resident Details";
    Layout = "~/Pages/Shared/_AdminLayout.cshtml";
}

<div class="container mt-5">

    <!-- Resident Info (Profile Image & Personal Information) -->
    <div class="row mb-4">
        <!-- Profile Image Card -->
        <div class="col-md-3 text-center">
            <div class="card shadow-sm border-light rounded-3">
                <div class="card-body">
                    <h5 class="card-title mb-3">Profile</h5>
                    @if (Model.Resident.ImageData != null)
                    {
                        <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Resident.ImageData)" class="img-fluid rounded-circle shadow-lg" alt="Resident Photo" style="width: 180px; height: 180px; object-fit: cover;" />
                    }
                    else
                    {
                        <img src="/images/avatarPlaceholder.jpg" class="img-fluid rounded-circle shadow-lg" alt="Resident Photo" style="width: 180px; height: 180px;" />
                    }
                    <h5 class="mt-3 font-weight-bold">@Model.Resident.FirstName @Model.Resident.LastName</h5>
                </div>
            </div>
        </div>

        <!-- Personal Information Card -->
        <div class="col-md-9">
            <div class="card mb-4 shadow-sm border-light rounded-3">
                <div class="card-body">
                    <h5 class="card-title">Personal Information</h5>
                    <dl class="row">
                        <dt class="col-sm-4">First Name</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.FirstName)</dd>

                        <dt class="col-sm-4">Last Name</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.LastName)</dd>

                        <dt class="col-sm-4">Middle Name</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.MiddleName)</dd>

                        <dt class="col-sm-4">Birthdate</dt>
                        <dd class="col-sm-8">@Model.Resident.BirthDate.ToString("MMMM dd, yyyy")</dd>

                        <dt class="col-sm-4">Gender</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.Gender)</dd>

                        <dt class="col-sm-4">Civil Status</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.CivilStatus)</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact and Additional Information (Side-by-Side with Equal Height) -->
    <div class="row mb-4">
        <!-- Contact Information Card -->
        <div class="col-md-6">
            <div class="card mb-4 shadow-sm border-light rounded-3">
                <div class="card-body">
                    <h5 class="card-title">Contact Information</h5>
                    <dl class="row">
                        <dt class="col-sm-4">Address</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.Address)</dd>

                        <dt class="col-sm-4">Contact Number</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.ContactNumber)</dd>

                        <dt class="col-sm-4">Email</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.Email)</dd>
                    </dl>
                </div>
            </div>
        </div>

        <!-- Residency and Special Status Information Card -->
        <div class="col-md-6">
            <div class="card mb-4 shadow-sm border-light rounded-3">
                <div class="card-body">
                    <h5 class="card-title">Residency & Special Status</h5>
                    <dl class="row">
                        <dt class="col-sm-4">Residency Status</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.ResidencyStatus)</dd>

                        <dt class="col-sm-4">Senior Citizen</dt>
                        <dd class="col-sm-8">
                            @(Model.Resident.IsSeniorCitizen ? "Yes" : "No")
                        </dd>

                        <dt class="col-sm-4">PWD</dt>
                        <dd class="col-sm-8">
                            @(Model.Resident.IsPWD ? "Yes" : "No")
                        </dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <!-- Voter Status and Registration Card -->
    <div class="card mb-4 shadow-sm border-light rounded-3">
        <div class="card-body">
            <h5 class="card-title">Voter Status & Registration</h5>
            <dl class="row">
                <dt class="col-sm-4">Voter Status</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.VoterStatus)</dd>

                <dt class="col-sm-4">Date Registered</dt>
                <dd class="col-sm-8">@Model.Resident.DateRegistered.ToString("MMMM dd, yyyy")</dd>
            </dl>
        </div>
    </div>

    <!-- Health and Emergency Card -->
    <div class="card mb-4 shadow-sm border-light rounded-3">
        <div class="card-body">
            <h5 class="card-title">Health & Emergency Information</h5>
            <dl class="row">
                <dt class="col-sm-4">Emergency Contact</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.EmergencyContact)</dd>

                <dt class="col-sm-4">Health Conditions</dt>
                <dd class="col-sm-8">@Html.DisplayFor(model => model.Resident.HealthConditions)</dd>
            </dl>
        </div>
    </div>

    <!-- Action Links -->
    <div class="mt-4 text-center">
        <a class="btn btn-warning btn-lg rounded-pill px-4" asp-page="./Edit" asp-route-id="@Model.Resident?.ResidentID">Edit</a>
        <a class="btn btn-secondary btn-lg rounded-pill px-4" asp-page="./Index">Back to List</a>
    </div>
</div>
